% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/regime.R
\name{detect_regimes}
\alias{detect_regimes}
\title{Regime Detection for Time-Series}
\usage{
detect_regimes(
  data,
  method = "smart",
  sensitivity = "medium",
  min_change,
  window = 10,
  consolidate = FALSE,
  similarity = 0.6,
  peak = 1.96,
  cumulative = 0.6
)
}
\arguments{
\item{data}{[\code{tsn}, \code{ts}, \code{data.frame}, \code{numeric()}]\cr Time-series data}

\item{method}{[\code{character(1)}]\cr Detection method.
The available options are:
\itemize{
\item \code{"cumulative_peaks"}: Detects cumulative complexity peaks using Z-tests.
\item \code{"changepoint"}: Change point detection (multi-window mean-shift test).
\item \code{"threshold"}: Adaptive quartile-based regime classification.
\item \code{"variance_shift"}: Detects changes in variance patterns.
\item \code{"slope"}: Detects changes in local slope (rolling linear models).
\item \code{"entropy"}: Detects changes in the Shannon entropy of the
complexity series, calculated in rolling windows.
\item \code{"smart"} (default): Combines gradient, peaks, and changepoint methods.
\item \code{"all"}: Applies all individual methods listed above and uses
ensemble voting.
}}

\item{sensitivity}{[\code{character(1)}]\cr Detection sensitivity level.
The available options are: \code{"low"}, \code{"medium"}, \code{"high"}.
The default is \code{"medium"}. This affects thresholds and window sizes within
the detection methods.}

\item{min_change}{[\code{integer(1)}]\cr Minimum number of observations between
changes. If missing (default), the value is determined automatically
(typically 10\% of observations, minimum of 10).}

\item{window}{[\code{integer(1)}]\cr base window size for rolling calculations.
This is further adjusted by \code{sensitivity}. The default is \code{10}.}

\item{consolidate}{[\code{logical(1)}]\cr Should regimes that are statistically
similar after initial detection be merged? The default is \code{FALSE}.}

\item{similarity}{[\code{numeric(1)}]\cr A value between 0 and 1 that defines
the threshold for considering regimes similar enough to merge if
\code{consolidate = TRUE}. Based on normalized mean difference.
The default is \code{0.6}.}

\item{peak}{[\code{numeric(1)}]\cr Base Z-score threshold for individual peak
detection with the \code{"cumulative_peaks"} method.
Adjusted by \code{sensitivity}. The default is \code{1.96}.}

\item{cumulative}{[\code{numeric(1)}]\cr A value between 0 and 1 that defines
the base proportion threshold for identifying cumulative peak regions.
Adjusted by \code{sensitivity}. The default is \code{0.6}.}
}
\value{
A \code{data.frame} containing all original columns from \code{data}
and additional columns with regime information:

\code{change}: Logical indicating regime change points
\code{id}: An \code{integer} regime identifier
\code{stability}: Categorical stability: "Stable", "Transitional", "Unstable"
\code{complexity_pattern}: Pattern description:
"Increasing", "Decreasing", "Stable", "Fluctuating"
\code{stability_score}: Numeric stability score (0-1)
\code{type}: Type of change detected by the method
\code{magnitude}: Magnitude of the change (method-specific interpretation)
\code{confidence}: Confidence in the detection
(method-specific interpretation, typically 0-1)
}
\description{
Detects regime changes in complexity data using multiple sophisticated
methods including cumulative peaks, changepoint detection, variance shifts,
threshold analysis, gradient changes, and entropy analysis. Provides
comprehensive analysis with stability  classification and pattern
recognition.
}
\examples{
comp <- c(
  rnorm(50, 0.3, 0.05), rnorm(50, 0.8, 0.08),
  rnorm(50, 0.5, 0.05), rnorm(50, 0.9, 0.1)
)

regimes_all <- detect_regimes(
  data = comp,
  method = "all",
  sensitivity = "medium"
)
}
